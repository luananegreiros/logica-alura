<meta charset="UTF-8">

<h1>Adivinhe o número que escolhi!</h1>

<input/>
<button> Escolha um número de 0 a 10 </button>

<script>

    function sorteia(){
        return Math.round(Math.random() * 10);  // função sorteia() retorna um número aleatório
    }

    function sorteiaNumeros(quantidade){

        let segredos = [];  // essa variável, apesar do mesmo nome da outra, só existe dentro do escopo da função
        let numero = 1;

        // a variável número existe como um contador. 
        // enquanto o contador (numero) for menos ou igual à quantidade de números que devem ser gerados 
        // (quantidade) ele adiciona um número aleatório ao array.

        while(numero <= quantidade){

            let numeroAleatorio = sorteia(); // sorteio um número aleatório
            let achou = false; // e digo que ainda não encontrei ele pq ainda não verifiquei na minha lista de segredos

            // então percorro a lista de segredos pra saber se o número gerado já está lá dentro
            // se tiver, achou = true e dou um break e para de repetir

             for (let posicao = 0; posicao < segredos.length; posicao++){
            
                 if (segredos[posicao] == numeroAleatorio){
                     achou = true;
                     break;
                 }
             }

            // se não achou, o númeroAleatório é inserido novamente;
            // o incremento do número só pode ser feito se eu não encontrei o número aleatório, 
            // portanto numero ++ entra no if do achou == false.

            if (achou == false){
                segredos.push(numeroAleatorio);
                numero++;
            }
        }

        return segredos;

    }

    let segredos = sorteiaNumeros(4); // essa função devolve uma lista com (4) números aleatórios que não se repetem;
   
    let input = document.querySelector("input");  
    input.focus();
    
    function verifica(){ 

        let achou = false;

        for (let posicao = 0; posicao < segredos.length; posicao++){ 
            if (input.value == segredos[posicao]){  
                alert("Você acertou!");
                achou = true;
                break;
            }
        }

        if (achou == false){
                alert("Você errou!");
        }

        input.value = "";  
        input.focus();  

    }

    let button = document.querySelector("button");
    button.onclick = verifica; 
   
</script>